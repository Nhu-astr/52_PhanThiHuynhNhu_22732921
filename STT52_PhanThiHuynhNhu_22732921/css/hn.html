<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.7.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="../css/">
</head>

<style>
    .maudo {
        font-size: 100%;
        color: red;
    }
    
    [class*="col-"] {
        padding-left: 0;
        padding-right: 0;
    }
    
    li {
        width: 150px;
    }
</style>
<script>
    $(document).ready(function() {
        $("#dangki").click(function() {
            $("#mo").modal();

        });
    });

    function kiemTrama() {
        var mauKT = /^K16-\d{9}$/; // Biểu thức chính quy kiểm tra theo mẫu K16-xxxxxxxxx
        var maValue = $("#txtMa").val(); // Lấy giá trị từ ô nhập liệu

        if (maValue == "") {
            // Nếu ô nhập liệu rỗng
            $("#tbMa").html("Bắt buộc nhập");
            $("#tbMa").addClass("mauDo");
            $("#tbMa").removeClass("mauXanh");
            return false;
        } else if (!mauKT.test(maValue)) {
            // Nếu giá trị không khớp với biểu thức chính quy
            $("#tbMa").html("Nhập sai, mã phải theo mẫu K16-xxxxxxxxx");
            $("#tbMa").addClass("mauDo");
            $("#tbMa").removeClass("mauXanh");
            return false;
        } else {
            // Nếu giá trị hợp lệ
            $("#tbMa").html("Nhập đúng rồi");
            $("#tbMa").addClass("mauXanh");
            $("#tbMa").removeClass("mauDo");
            return true;
        }
    }
    $("#txtma").blur(kiemTrama);



    function kiemTraHT() {
        var regex = /^([A-Z]{1}[a-z]+)(\s[A-Z]{1}[a-z]*)+$/;
        var hoten = $("#txtHT").val();
        if (hoten == "") {
            $("#tbTen").html("Bat buoc nhap");
            $("#tbTen").addClass("mauDo");
            $("#tbTen").removeClass("mauXanh");
            return false;
        } else if (regex.test(hoten) == false) {
            $("#tbTen").html("Họ tên: viết hoa chữu đầu ví dụ: Tran Anh Dung . ");
            $("#tbTen").addClass("mauDo");
            $("#tbTen").removeClass("mauXanh");
            return false;
        } else {
            $("#tbTen").html("Nhap dung roi");
            $("#tbTen").addClass("mauXanh");
            $("#tbTen").removeClass("mauDo");
            return true;
        }
    };
    $("#txtHT").blur(kiemTraHT);

    function kiemTraMaLop() {
        var mauKT = /^[A-Z0-9]{11}$/; // Biểu thức chính quy kiểm tra 11 ký tự, gồm chữ in hoa và chữ số
        var maValue = $("#txtLop").val(); // Lấy giá trị từ ô nhập liệu

        if (maValue == "") {
            // Nếu ô nhập liệu rỗng
            $("#tbLop").html("Bắt buộc nhập");
            $("#tbLop").addClass("mauDo");
            $("#tbLop").removeClass("mauXanh");
            return false;
        } else if (!mauKT.test(maValue)) {
            // Nếu giá trị không khớp với biểu thức chính quy
            $("#tbLop").html("Nhập sai, mã lớp phải gồm 11 ký tự chữ in hoa và chữ số");
            $("#tbLop").addClass("mauDo");
            $("#tbLop").removeClass("mauXanh");
            return false;
        } else {
            // Nếu giá trị hợp lệ
            $("#tbLop").html("Nhập đúng rồi");
            $("#tbLop").addClass("mauXanh");
            $("#tbLop").removeClass("mauDo");
            return true;
        }
    }
    $("#txtLop").blur(kiemTraMaLop);

    function kiemTraNgayThamGia() {
        var ngayThamGiaValue = $("#txtDate").val(); // Lấy giá trị từ ô nhập liệu

        if (ngayThamGiaValue == "") {
            // Nếu ô nhập liệu rỗng
            $("#tbDate").html("Bắt buộc nhập");
            $("#tbDate").addClass("mauDo");
            $("#tbDate").removeClass("mauXanh");
            return false;
        } else {
            var ngayThamGia = new Date(ngayThamGiaValue);
            var ngayHienTai = new Date();

            // Thêm 30 ngày vào ngày hiện tại
            ngayHienTai.setDate(ngayHienTai.getDate() + 30);

            if (ngayThamGia <= ngayHienTai) {
                // Nếu ngày tham gia không sau ngày hiện tại ít nhất 30 ngày
                $("#tbDate").html("Ngày tham gia phải sau ngày hiện tại ít nhất 30 ngày");
                $("#tbDate").addClass("mauDo");
                $("#tbDate").removeClass("mauXanh");
                return false;
            } else {
                // Nếu ngày tham gia hợp lệ
                $("#tbDate").html("Ngày tham gia hợp lệ");
                $("#tbDate").addClass("mauXanh");
                $("#tbDate").removeClass("mauDo");
                return true;
            }
        }
    }
    $("#txtDate").blur(kiemTraNgayThamGia);

    function kiemTraDT() {
        var regex = /^0[0-9]{9}$/;
        var DT = $("#txtDt").val();

        if (DT == "") {
            $("#tbDt").html("Bắt buộc nhập");
            $("#tbDt").addClass("mauDo");
            $("#tbDt").removeClass("mauXanh");
            return false;
        } else if (!regex.test(DT)) {
            $("#tbDt").html("Nhập sai, Điện thoại theo mẫu: 0xxx-xxx-xxx bắt buộc dùng chữ số  0 ở đầu ");
            $("#tbDt").addClass("mauDo");
            $("#tbDt").removeClass("mauXanh");
            return false;
        } else {
            $("#tbDt").html("Nhập đúng rồi");
            $("#tbDt").addClass("mauXanh");
            $("#tbDt").removeClass("mauDo");
            return true;
        }
    }
    $("#txtDt").blur(kiemTraDT);

    function kiemTraDC() {
        var regex = /^.{6}@iuh.edu.vn$/;
        var diachi = $("#txtDc").val();
        if (diachi == "") {
            $("#tbDc").html("Bắt buộc nhập");
            $("#tbDc").addClass("mauDo");
            $("#tbDc").removeClass("mauXanh");
            return false;
        } else if (!regex.test(diachi)) {
            $("#tbDc").html("Nhập sai");
            $("#tbDc").addClass("mauDo");
            $("#tbDc").removeClass("mauXanh");
            return false;
        } else {
            $("#tbDc").html("dung");
            $("#tbDc").addClass("mauXanh");
            $("#tbDc").removeClass("mauDo");
            return true;
        }
    }
    $("#txtDc").blur(kiemTraDC);

    $("#btnSave").click(function() {
        var ma = $("#txtMa").val();
        var ht = $("#txtHT").val();
        var lop = $("#txtLop").val();
        var date = $("#txtDate").val();
        var dt = $("#txtDt").val();
        var dc = $("#txtDc").val();

        var them = `
                <tr>
                    <td>` + (i++) + `</td> 
                    <td>` + ma + `</td>
                    <td>` + ht + `</td>
                    <td>` + lop + `</td>
                    <td>` + date + `</td>
                    <td>` + dt + `</td>
                    <td>` + dc + `</td>
                </tr>
                `;
        $("#tbDanhSach").append(them);
        $("#myModal").modal("hide");
        return true;
    });
</script>

</script>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <img src="../HEADER.PNG" alt="" width="100%">
            </div>
        </div>
        <div class="row">
            <nav class="navbar">
                <ul class="nav">
                    <li class="nav-item">
                        <a href="#" class="nav-link">Đăng Nhập</a>
                        <a href="#" class="nav-link" id="dangki">Đăng kí</a>
                    </li>
                    <li class="nav-item"></li>
                </ul>
            </nav>
        </div>
        <div class="row">
            <h3 class="mx-auto">DANH SACH THAM GIA DOI ROBOCON KHOA CNTT</h3>
        </div>

        <div class="row">
            <table class="table table-striped" id="tbds">
                <tr>
                    <th>STT</th>
                    <th>Ma sinh vien</th>
                    <th>Ho ten</th>
                    <th>Lớp</th>
                    <th>Ngày tham gia</th>
                    <th>Điện thoại</th>
                    <th>Email</th>
                </tr>
                <tr>
                    <th>1</th>
                    <th>K16-123456789</th>
                    <th>Tran Anh Dung</th>
                    <th>DHKTPM16ATT</th>
                    <th>22/02/2022</th>
                    <th>0909-123-123</th>
                    <th>thanhkha@iuh.edu.vn</th>
                </tr>
            </table>
        </div>
        <div class="row">
            <div class="modal fade" id="mo">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title mx-5">THÔNG TIN CÁ NHÂN</h5>
                                <button class="close mx-5" data-bs-dimiss="modal">&times;</button>
                            </div>

                            <div class="modal-body">
                                <form action="form-control">
                                    <div class="row">
                                        <div class="col-3">
                                            <label class="col-form-label">Mã Thành viên</label>
                                        </div>
                                        <div class="col-auto">
                                            <input type="text" class="form-control" id="txtma" placeholder="Mã: K16-123456789 ">
                                        </div>
                                        <div class="col-auto">
                                            <span id="tbma">*</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3">
                                            <label class="col-form-label">Họ tên</label>
                                        </div>
                                        <div class="col-auto">
                                            <input type="text" class="form-control" id="txtHT" placeholder="Tran Anh Dung">
                                        </div>
                                        <div class="col-auto">
                                            <span id="tbHT">*</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3">
                                            <label class="col-form-label">Lớp</label>
                                        </div>
                                        <div class="col-auto">
                                            <input type="text" class="form-control" id="txtlop" placeholder="Lớp: DHKTPM16ATT">
                                        </div>
                                        <div class="col-auto">
                                            <span id="tblop">*</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3">
                                            <label class="col-form-label">Ngày tham gia</label>
                                        </div>
                                        <div class="col-auto">
                                            <input type="text" class="form-control" id="txtday" placeholder="mm/dd/yyyy">
                                        </div>
                                        <div class="col-auto">
                                            <span id="tbday">*</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3">
                                            <label class="col-form-label">Điện thoại</label>
                                        </div>
                                        <div class="col-auto">
                                            <input type="text" class="form-control" id="txtdt" placeholder="SĐT: 0xxx-xxx-xxx">
                                        </div>
                                        <div class="col-auto">
                                            <span id="tbdt">*</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3">
                                            <label class="col-form-label">Email</label>
                                        </div>
                                        <div class="col-auto">
                                            <input type="text" class="form-control" id="txtem" placeholder="Email: xxxxx@iuh.edu.vn">
                                        </div>
                                        <div class="col-auto">
                                            <span class="" id="tbem">*</span>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button>Lưu</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>